<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=gb2312">
<title>编程规范</title>
</head>

<body>
<div align="center"><center>

<table border="0" width="630">
  <tr>
    <td bgcolor="#EEEDB7"><h1 align="center">编程规范</h1>
    <h1 align="center"><a href="cover.html"><font size="2">[返回]</font></a></h1>
    <p>发信人: xiaobo (克利斯朵夫), 信区: SoftEng<br>
    标　题: Re: 请教编程规范<br>
    发信站: BBS 水木清华站 (Tue Oct 27 10:51:06 1998)<br>
    <br>
    【 在 start1 (sonic) 的大作中提到: 】<br>
    : 请教：<br>
    : 
    何处能得到关于编程规范（即编程准则，例如变量命名规则、注释规则<br>
    : 等）的资料。<br>
    <br>
    呵呵，这是原来我自己修订的一个编程规范，准备在实验室中应用，后来又不了了之。<br>
    供参考，请指点。<br>
    <br>
    ==============================================================================<br>
    编程规范<br>
    【命名约定】<br>
    一、变量名的约定：<br>
    命名规则主要采用匈牙利命名法。进行了一些增删。<br>
    1. 用小写字母的前缀表示变量的类型，前缀的下一个字母用大写。<br>
    ------------------------------------------------------------------------------<br>
    前缀　　　　　　　　　　类型　　　　　　　　　　　　　　例子<br>
    b　　　 *　　　　　　　 Boolean　　　　　　　　　　　　 bIsParent<br>
    by　　　　　　　　　　　字节　　　　　　　　　　　　　　byFlag<br>
    ch　　　*　　　　　　　 char　　　　　　　　　　　　　　chText<br>
    c　　　 *　　　　　　　 类对象　　　　　　　　　　　　　cMain（对象实例）<br>
    fn　　　　　　　　　　　Function　　　　　　　　　　　　fnCallback<br>
    h　　　 *　　　　　　　 Handle（句柄）　　　　　　　　　hWnd<br>
    i　　　 *　　　　　　　 int　　　　　　　　　　　　　　　　　　 
    <br>
    n　　　 *　　　　　　　 无符号整型　　　　　　　　　　　<br>
    p　　　 *　　　　　　　 指针　　　　　　　　　　　　　　<br>
    sz,str　*　　　　　　　 字符串　　　　　　　　　　　　　<br>
    w　　　　　　　　　　　 WORD　　　　　　　　　　　　　　<br>
    x,y　　　　　　　　　　 坐标　　　　　　　　　　　　　　xPos, 
    yPos<br>
    ------------------------------------------------------------------------------<br>
    其中，带“*”号的为常用约定。<br>
    其它前缀：<br>
    m_　　　　　　　　　　　类成员变量　　　　　　　　　　　m_nVal, 
    m_bFlag<br>
    g_　　　　　　　　　　　全局变量　　　　　　　　　　　　g_nMsg, 
    g_bFlag<br>
    <br>
    局部变量中可采用如下几个通用变量：nTemp，nResult，I，J（一般用于循环变量）。<br>
    <br>
    二、VB中控件的命名：<br>
    用小写前缀表示类别：<br>
    fm　　　　　　　窗口<br>
    cmd　　　　　　 按钮<br>
    cob　　　　　　 combo，下拉式列表框<br>
    txt　　　　　　 文本输入框<br>
    lab　　　　　　 labal，标签<br>
    img　　　　　　 image，图象<br>
    pic　　　　　　 picture<br>
    grd　　　　　　 Grid，网格<br>
    scr　　　　　　 滚动条<br>
    lst　　　　　　 列表框<br>
    frm　　　　　　 fram<br>
    <br>
    【注释规范】<br>
    一、函数<br>
    在函数开头，用如下格式注释：<br>
    /*************************************************************************/<br>
    /*　　　Function: DelStringFrom String　　　　　　　　　　　　　　　　　 
    */<br>
    /*　　　　　　　从一个String删除另一个String。　　　　　　　　　　　　　 
    */<br>
    /*　　　参数：strByDelete，strToDelete　　　　　　　　　　　　　　　　　 
    */<br>
    /*　　　　　　　strByDelete: 
    被删除的字符串（原来的字符串）　　　　　　　*/<br>
    /*　　　　　　　strToDelete: 
    要从上个字符串中删除的字符串。　　　　　　　*/<br>
    /*　　　返回：找到并删除返回0，否则返回-1.　　　　　　　　　　　　　　　 
    */<br>
    /*************************************************************************/<br>
    <br>
    二、变量<br>
    对于非通用的变量，请在定义时加以注释说明，变量定义尽可能放在最开始处。<br>
    <br>
    三、文件注释<br>
    在文件开头注释以下内容：<br>
    ////////////////////////////////////////////////////////////////////////////<br>
    //　　　Project: 文件所在的项目名，如：eForum<br>
    //　　　By: 作者、修改者、...，如：xiaobo、qyz.........<br>
    //　　　Discription: 说明文件的功能。<br>
    ////////////////////////////////////////////////////////////////////////////<br>
    <br>
    四、其它<br>
    函数内各功能模块，如：循环、流程的各分支等，尽可能多的加以注释。<br>
    <br>
    【编程风格】<br>
    一、严格采用梯形层次对应好各层次。如：<br>
    main()<br>
    {<br>
    　int i,j;<br>
    　........<br>
    　for (i==0;i&lt;100;i++)<br>
    　{<br>
    　　..........<br>
    　　..........<br>
    　　if (i==0) <br>
    　　　{<br>
    　　　　 .........<br>
    　　　　 .........<br>
    　　　}<br>
    　　..........<br>
    　　..........<br>
    　}<br>
    　.........<br>
    }<br>
    <br>
    二、注意错误处理<br>
    编程中要考虑函数的各种执行情况，尽可能处理所有流程情况。<br>
    将函数分两类：<br>
    　　　　　　　　一类为与屏幕的显示无关，<br>
    　　　　　　　　二类为与屏幕的显示有关。<br>
    对于与屏幕显示无关的函数，函数通过返回值来报告错误。<br>
    对于与屏幕显示有关的函数，函数要负责向用户发出警告，并进行错误处理。<br>
    错误处理代码一般放在函数末尾，如下（以VB程序为例）：<br>
    　........<br>
    　On Error Goto　errHandle<br>
    　.......<br>
    　Exit Sub<br>
    　<br>
    errHandle:<br>
    　Select Case Err<br>
    　Case 1:<br>
    　　....<br>
    　Case 2:<br>
    　　....<br>
    　Case Else:<br>
    　　....<br>
    　End Select<br>
    End Sub<br>
    对于通用的错误处理，可建立通用的错误处理函数，处理常见的通用的错误。<br>
    <br>
    【模块化】<br>
    某一功能，如果重复实现三遍以上，即应考虑模块化，将它写成通用函数。并向小组成员<br>
    发布。同时已要尽可能利用其它人的现成模块。模块化的一些注意事项：<br>
    1. 
    设计好模块接口，用面向对象的观点看，包括：函数接口和变量接口。<br>
    2. 
    定义好接口以后不要轻易改动，并在模块开头（文件的开头或函数的开头）加以说明。<br>
    3. 不要在外部使用接口以外的其它函数或变量。<br>
    4. 注意全局变量也是一种接口。<br>
    5. 接口即是罗列出一个模块的所有的与外部打交道的变量、函数等。<br>
    <br>
    </p>
    <p align="center"><a href="cover.html"><font size="2">[返回]</font></a></td>
  </tr>
</table>
</center></div>
</body>
</html>
