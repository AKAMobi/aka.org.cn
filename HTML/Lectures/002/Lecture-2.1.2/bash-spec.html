<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
    <TITLE>BASH 中的特殊保留字</TITLE>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb_2312-80">
    <META NAME="AUTHOR" CONTENT="Yongming Wei">
    <META NAME="CREATED" CONTENT="20000329;17342600">
    <META >
    <STYLE>
    <!--
        H1 { color: #ffff00 }
        H2 { color: #ffff00 }
        H3 { color: #ff00ff }
        H4 { color: #ffff00 }
        TD P { color: #b880b8 }
        LI { color: #ffffff }
        P { color: #00ffff }
        A:link { color: #00b8ff }
        A:visited { color: #ff3366 }
    -->
    </STYLE>
</HEAD>
<BODY TEXT="#ffff00" LINK="#00b8ff" VLINK="#ff3366" BACKGROUND="velvet.jpg">

<A HREF="bash-syntax.html"><IMG SRC="prev.gif" ALT="Previous"></A>
<A HREF="bash-adv.html"><IMG SRC="next.gif" ALT="Next"></A>
<A HREF="index.html"><IMG SRC="toc.gif" ALT="Contents"></A>

<H1 ALIGN=LEFT>3&nbsp;&nbsp;&nbsp;&nbsp;BASH 中的特殊保留字</H1>

<UL>
  <LI> 
    <P>保留变量
  </LI>
  <LI> 
    <P>随机数
  </LI>
  <LI>
    <P>运算符
  </LI>
  <LI> 
    <P>变量的特殊操作 
  </LI>
</UL>

<H3>3.1&nbsp;&nbsp;&nbsp;&nbsp;保留变量</H3>
<P>BASH 中有一些保留变量，下面列出了一些：<br>
  <br>
  $IFS　　这个变量中保存了用于分割输入参数的分割字符，默认识空格。 <br>
  $HOME 　这个变量中存储了当前用户的根目录路径。 <br>
  $PATH 　这个变量中存储了当前 Shell 的默认路径字符串。 <br>
  $PS1　　表示第一个系统提示符。 <br>
  $PS2　　表示的二个系统提示符。 <br>
  $PWD　　表示当前工作路径。 <br>
  $EDITOR 表示系统的默认编辑器名称。 <br>
  $BASH 　表示当前 Shell 的路径字符串。<br>
  $0, $1, $2, ... <br>
  　　　　表示系统传给脚本程序或脚本程序传给函数的第0个、第一个、第二个等参数。<br>
  $#　　　表示脚本程序的命令参数个数或函数的参数个数。<br>
  $$　　　表示该脚本程序的进程号，常用于生成文件名唯一的临时文件。 <br>
  $?　　　表示脚本程序或函数的返回状态值，正常为 0，否则为非零的错误号。<br>
  $*　　　表示所有的脚本参数或函数参数。<br>
  $@　　　和 $* 涵义相似，但是比 $* 更安全。<br>
  $!　　　表示最近一个在后台运行的进程的进程号。</P>
<BR>

<H3>3.2&nbsp;&nbsp;&nbsp;&nbsp;随机数</H3>
<P>随机数是经常要用到的，BASH 中也提供了这个功能，请看下面这个<a href="random">程序</a>：</P>
<P><b><font color="#FFFFFF">#!/bin/bash <br>
  <br>
  # Prints different random integer from 1 to 65536 <br>
  <br>
  a=$RANDOM <br>
  echo $a <br>
  <br>
  exit 0 </font></b></P>
<P>这个程序可以在每次执行的时候随机的打印出一个大小在 1 到 65536 之间的整数。</P>
<P>&nbsp;</P>
<h3>3.3&nbsp;&nbsp;&nbsp;&nbsp;运算符</h3>
<p>算术运算符 <br>
  + - * / % 表示加减乘除和取余运算<br>
  += -= *= /= 同 C 语言中的含义</p>
<p>位操作符<br>
  << <<= >> >>= 表示位左右移一位操作<br>
  & &= | |= 表示按位与、位或操作<br>
  ~ ! 表示非操作<br>
  ^ ^= 表示异或操作 </p>
<p>关系运算符 <br>
  < > <= >= == != 表示大于、小于、大于等于、小于等于、等于、不等于操作<br>
  && || 逻辑与、逻辑或操作</p>
<p></p>
<P>&nbsp; </P>
<p></P>

<H3>3.4&nbsp;&nbsp;&nbsp;&nbsp;变量的特殊操作</H3>
<P>BASH 中还有一些对变量的简洁、快速的操作，大家还记得 &quot;${var}&quot; 和 &quot;$var&quot; 同样是对变量的引用吧，对 
  ${var} 进行一些变化就可以产生一些新功能：<br>
  ${var-default} 表示如果变量 $var 还没有设置，则保持 $var 没有设置的状态，并返回后面的默认值 default。<br>
  ${var=default} 表示如果变量 $var 还没有设置，则取后面的默认值 default。 <br>
  ${var+otherwise} 表示如果变量 $var 已经设置，则返回 otherwise 的值，否则返回空( null )。<br>
  ${var?err_msg} 表示如果变量 $var 已经设置，则返回该变量的值，否则将后面的 err_msg 输出到标准错误输出上。 </P>
<P>请同学们自己尝试下面的例子：</P>
<P><b><font color="#FFFFFF">#!/bin/bash<br>
  <br>
  echo ${var?There is an error}<br>
  <br>
  exit 0</font></b></P>
<P>还有下面一些用法，这些用法主要用于从文件路径字符串中提取有用信息：<br>
  ${var#pattern}, ${var##pattern} 用于从变量 $var 中剥去最短（最长）的和 pattern 相匹配的最左侧的串。<br>
  ${var%pattern}, ${var%%pattern} 用于从变量 $var 中剥去最短（最长）的和 pattern 相匹配的最右侧的串。</P>
<P>另外 <a href="bash-adv.html">BASH 2</a> 中还加入下面一些操作：<br>
  ${var:pos} 表示去掉变量 $var 中前 pos 个字符。<br>
  ${var:pos:len} 表示变量 $var 中去掉前 pos 个字符后的剩余字符串的前 len 个字符。<br>
  ${var/pattern/replacement} 表示将变量 $var 中第一个出现的 pattern 模式替换为 replacement 字符串。<br>
  ${var//pattern/replacement} 表示将变量 $var 中出现的所有 pattern 模式全部都替换为 replacment 字符串。</P>
<P>
<BR><BR>
</P>

<P ALIGN=CENTER>
<IMG SRC="striped.gif" NAME="Ruler" ALIGN=BOTTOM WIDTH=532 HEIGHT=13 BORDER=0></P>

<P>
<BR><BR>
</P>

<A HREF="bash-syntax.html"><IMG SRC="prev.gif" ALT="Previous"></A>
<A HREF="bash-adv.html"><IMG SRC="next.gif" ALT="Next"></A>
<A HREF="index.html"><IMG SRC="toc.gif" ALT="Contents"></A>

</BODY>
</HTML>

