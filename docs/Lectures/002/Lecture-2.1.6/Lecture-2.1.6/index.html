<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<HTML>
<HEAD>
    <TITLE>第六讲</TITLE>
    <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=gb_2312-80">
    <META NAME="COPYRIGHT" CONTENT="魏永明">
    <META NAME="AUTHOR" CONTENT="魏永明">
    <STYLE>
    <!--
        H1 { color: #ffff00; font-family: "timmons", serif }
        TD P { color: #ffff00 }
        P { color: #ffff00 }
        PRE { color: #ffffff; font-family: "fixed" }
        A:link { color: #00b8ff }
        A:visited { color: #ff3366 }
    -->
    </STYLE>
</HEAD>
<BODY TEXT="#ffff00" LINK="#00b8ff" VLINK="#ff3366" BACKGROUND="velvet.jpg">

<H1 ALIGN=CENTER>
第六讲  进程及进程间通讯
</H1>

<H2>整体思路</H2>
<P>
本次讲座内容以 APUE 相关内容为蓝本, 重点突出 UNIX 相关特色或者在其他操作系统中编程时很少涉及的内容, 同时重点讲解 Linux 相关主题. 从而能够让听众就 UNIX/Linux 上的进程和进程间通讯有一个较为深入的了解. <BR>
讲座以概念解释为主, 重点讲述陌生的系统调用或函数.
</P>

<H2>主要内容</H2>
<UL SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="proc.html">进程及进程环境</A></P>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="proctl.html">进程控制</A></P>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="thread.html">线程</A></P>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="procrelate.html">进程关系</A></P>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="daemon.html">守护进程</A></P>
        <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
        <A HREF="ipc.html">进程间通讯</A></P>
</UL>

<H2>各部分要点</H2>
<UL SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.1  进程及进程环境</P>
    <UL>
        <LI>基本概念</LI>
        <LI>main 函数</LI>
        <LI>命令行参数及 popt 库</LI>
        <LI>环境变量</LI>
        <LI>C 程序的内存布局</LI>
        <LI>共享库</LI>
        <LI>内存分配</LI>
        <LI>程序的长跳转</LI>
        <LI>进程的资源限制</LI>
    </UL>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.2  进程控制</P>
    <UL>
        <LI>基本概念</LI>
        <LI>fork 和 vfork</LI>
        <LI>exit</LI>
        <LI>wait 函数</LI>
        <LI>竞态</LI>
        <LI>exec 函数以及脚本解释器</LI>
        <LI>system 函数</LI>
        <LI>进程记帐</LI>
        <LI>用户和组标识符</LI>
        <LI>进程时间</LI>
    </UL>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.3  线程</P>
    <UL>
        <LI>基本概念</LI>
        <LI>线程的创建和销毁</LI>
        <LI>线程同步机制</LI>
        <LI>实例分析: MiniGUI 中的消息传递</LI>
        <LI>其他</LI>
    </UL>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.4  进程关系</P>
    <UL>
        <LI>基本概念</LI>
        <LI>终端和网络登录过程</LI>
        <LI>进程组</LI>
        <LI>会话</LI>
        <LI>控制终端</LI>
        <LI>Shell 中的命令执行</LI>
        <LI>作业控制</LI>
    </UL>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.5 守护进程</P>
    <UL>
        <LI>基本概念</LI>
        <LI>实现方法</LI>
    </UL>
    <P><IMG SRC="poliball.gif" WIDTH=16 HEIGHT=16 ALIGN=ABSMIDDLE>
    6.6 进程间通讯</P>
    <UL>
        <LI>基本概念</LI>
        <LI>管道</LI>
        <LI>FIFO</LI>
        <LI>System V 的 IPC 机制</LI>
        <LI>共享内存</LI>
        <LI>信号量</LI>
    </UL>
</UL>

<H2>思考题及作业</H2>
<OL>
    <LI>为 MiniGUI 编写一个 "打开文件" 对话框, 界面和编程接口可参考 Win32 的 "打开文件" 对话框. </LI>
    <LI>编写一个守护进程, 该进程每一分钟向系统日志中添加一条记录, 包括进程的时间信息和资源限制信息.</LI>
    <LI>编写一个简单的 Shell 程序, 该程序有如下基本的 Shell 功能: 命令行参数传递, 输入输出重定向, 管道</LI>
    <LI>编写一个自己的 system 函数</LI>
</OL>

<H2>参考书目</H2>
<OL>
    <LI>W. Richard Stevens, <I>Advanced Programming in the UNIX Environment</I></LI>
    <LI>John Goerzen, <I>The Linux Programming Bible</I></LI>
    <LI>Phil Cornes, <I>The Linux A - Z</I></LI>
    <LI>Naba Barkakati, <I>The Linux Secrets</I></LI>
    <LI>魏永明等, 《Linux 实用教程》</LI>
    <LI>魏永明等, 《学用 Linux 与 Windows NT》</LI>
</OL>

<H2>进一步读物</H2>
<UL>
    <LI>W. Richard Stevens, <I>Advanced Programming in the UNIX Environment</I>, From Chpater 7 to Chapter 15.</LI>
</UL>

<H2>反馈</H2>
本讲由<A HREF="mailto:ymwei@minigui.org">魏永明</A>讲解。欢迎任何意见和建议，可发 email: <A HREF="mailto:ymwei@minigui.org">ymwei@263.net</A> 与魏永明联系。

<P>
<P>

</BODY>
</HTML>

